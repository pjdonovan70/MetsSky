{
  "name": "metssky-auto-updater",
  "version": "1.0.0",
  "description": "Automated stats updater",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "dependencies": {
    "axios": "^1.6.0",
    "firebase-admin": "^11.11.0"
  }
}
Scroll down and click the green Commit changes button.
Step 2: Create the "Robot Script"
Click Add file -> Create new file again.
Name the file: scripts/update-stats.js
(Note: When you type the slash /, GitHub will automatically make a folder for you).
Paste the long JavaScript code I gave you in the previous big answer (the one that starts with const admin = require("firebase-admin");).
Scroll down and click Commit changes.
Step 3: Create the "Timer"
Click Add file -> Create new file one last time.
Name the file: .github/workflows/daily_update.yml
(Make sure you include the dot . at the start!)
Paste this code:
code
Yaml
name: Update Mets Data

on:
  schedule:
    # Runs every 6 hours
    - cron: '0 */6 * * *'
  workflow_dispatch: # Allows you to click a button to run it now

jobs:
  update-firestore:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout Code
      uses: actions/checkout@v3

    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'

    - name: Install Dependencies
      # This does the "npm install" for you automatically on GitHub's computers!
      run: npm install

    - name: Run Update Script
      env:
        FIREBASE_SERVICE_ACCOUNT: ${{ secrets.FIREBASE_SERVICE_ACCOUNT }}
      run: node scripts/update-stats.js
